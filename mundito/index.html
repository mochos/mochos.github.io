<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mundito 3</title>
    <link rel="stylesheet" href="estilos.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="img/icono.png"/>
    </head>
<body>
    <div class="contenedor">
        <img src="img/Mundito-logo-300.png">
        <br><br>
        <div class="botones">
            <a href="minecraft://?addExternalServer=Mundito|mundito.mochos.xyz:19132" class="boton boton-verde">
                <span>Jugar en Bedrock</span></a>

            <a href="#" class="boton boton-blanco clipboard">
                <span>Copiar IP (Java y Bedrock)</span> </a>

    </div>

<br><br><br>

<style>
    
</style>
<div class="info">

 <h2><span id="jugadores"></span><span id="estado">Cargando estado...</span></h2>
 <p><span id="lista"></span></p><br>
 <h2>IP:&nbsp;<span class="estado">mundito.mochos.xyz</span></h2>
  

</div>
      
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
    var $temp = $("<input>");
    var $url = "mundito.mochos.xyz";

$('.clipboard').on('click', function() {
  $("body").append($temp);
  $temp.val($url).select();
  document.execCommand("copy");
  $temp.remove();
  $(".clipboard").text("üëç ¬°IP copiada!");
  
  setTimeout(function() {
      $(".clipboard").text("Copiar IP");
  }, 20000); // 5000 milisegundos = 5 segundos
})

</script>

<script>
        var url = "https://api.mcsrvstat.us/3/opseeker.minecra.fr";

        $.getJSON(url, function(r) {
            //data is the JSON string
        if(r.online == false){
            $('#estado').html('‚õî Desconectado');
            $('#jugadores').css("display","none");
            $('#btnestado').addClass( "alert-danger" );
           return false;
         } else {
            var cantidad = r.players.online;
            var es = 'es';
            var os = 's';
            if (r.players.online == 1){
                var es = '';
                var os = '';
            }
            if (r.icon == null ) {
                $('#estado').text('‚õî Desconectado');
                $('#jugadores').css("display","none");
                $('#btnestado').addClass( "alert-danger" );
            return false;
            } else {
                $('#estado').text('jugador'+es+' conectado'+os);
                $('#jugadores').html('üü¢'+r.players.online+'&nbsp;');
                $('#btnestado').addClass( "alert-success" );
                $('#btnestado').addClass( "button-glow" );
                // Construimos la lista de nombres de los jugadores
                var nombres = '';
                if (r.players.list && Array.isArray(r.players.list)) {
                    r.players.list.forEach(function(jugador) {
                        nombres += jugador.name + ', ';
                    });
                }
                $('#lista').html(nombres);
                return false;
            }
        }
    });
    </script>
</body>
</html>