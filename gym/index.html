<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabla desde YAML</title>
</head>
<body>
    <h1>Presentación de Datos desde gimnasios.yml</h1>
    <div id="table-container"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
    <script>
        // Cargar el archivo YAML automáticamente desde una ruta relativa
        fetch('./gimnasios.yml') // Asegúrate de que el archivo está en el mismo directorio que este HTML
            .then(response => {
                if (!response.ok) {
                    throw new Error('Error al cargar el archivo: ' + response.statusText);
                }
                return response.text();
            })
            .then(yamlText => {
                const data = jsyaml.load(yamlText);
                renderTable(data);
            })
            .catch(error => console.error('Error al cargar el archivo YAML:', error));

        function renderTable(data) {
            let html = '<table border="1"><tr><th>Tipo</th><th>Nombre</th><th>Total</th><th>Arcoiris</th></tr>';

            // Procesar datos de gimnasio
            for (const gym in data.gimnasio) {
                html += `<tr><td>Gimnasio</td><td>${gym}</td><td>${data.gimnasio[gym].total}</td><td>${data.gimnasio[gym].arcoiris || '-'}</td></tr>`;
            }

            // Procesar datos de jugador
            for (const player in data.jugador) {
                html += `<tr><td>Jugador</td><td>${player}</td><td>${data.jugador[player].total}</td><td>${data.jugador[player].arcoiris || '-'}</td></tr>`;
            }

            html += '</table>';
            document.getElementById('table-container').innerHTML = html;
        }
    </script>
</body>
</html>
